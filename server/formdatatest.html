<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FormData Test</title>
    <script src="../lib/jquery-3.3.1.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#btn").click(function () {
                let formdata = new FormData();

                formdata.append("username", "Groucho");
                formdata.append("accountnum", 123456);
                formdata.append("userfile", document.getElementById('fid').files[0]);

                var content = '<a id="a"><b id="b">hey!</b></a>';
                var blob = new Blob([content], {type: "text/xml"});

                formdata.append("webmasterfile", blob);

                // var request = new XMLHttpRequest();
                // request.open("POST", "./formdatareceivetest.php", true);

                // request.onreadystatechange = function() {
                //     if(request.readyState === XMLHttpRequest.DONE && request.status === 200) {
                //         $("#divv").text(request.responseText);
                //     }
                // };
                // request.send(formdata);
                $.ajax({
                    url: "./formdatareceivetest.php",
                    type: "POST",
                    data: formdata,
                    processData: false,
                    contentType: false,
                    success: function (response, status, xhr) {
                        $("#divv").text(response);
                    },
                    error: function () {
                        $("#divv").text("error");
                    }
                });
            });
        });
    </script>
</head>
<body>

    <input type="file" id="fid">
    <button id="btn">
        BTN
    </button>
    <div id="divv">

    </div>
</body>
</html>